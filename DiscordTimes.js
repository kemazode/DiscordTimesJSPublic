const _0xc584a7=_0x5685;(function(_0x1a0a92,_0x14a946){const _0x14cfd0=_0x5685,_0x1c7401=_0x1a0a92();while(!![]){try{const _0xe59208=parseInt(_0x14cfd0(0x187))/0x1+parseInt(_0x14cfd0(0x12a))/0x2+-parseInt(_0x14cfd0(0x18e))/0x3+-parseInt(_0x14cfd0(0x126))/0x4*(parseInt(_0x14cfd0(0x18f))/0x5)+-parseInt(_0x14cfd0(0x1b4))/0x6+-parseInt(_0x14cfd0(0x197))/0x7+parseInt(_0x14cfd0(0x195))/0x8;if(_0xe59208===_0x14a946)break;else _0x1c7401['push'](_0x1c7401['shift']());}catch(_0x4f374b){_0x1c7401['push'](_0x1c7401['shift']());}}}(_0x5e90,0x3d75e));const ARMY_SIZE=0xc;let BASE_PATH=_0xc584a7(0x113);const DT_Bonuses={'Attack':[],'Defence':[],'Turn':[],'Start':[],'Ability':[],'Map':[]},DT_BonusCallbacks={},DT_BonusEmojis={},DT_RestorableCharacteristics=[_0xc584a7(0x1a7),_0xc584a7(0x1ca),_0xc584a7(0x157),_0xc584a7(0x175),'Initiative','Blessed','Cursed',_0xc584a7(0x1d1)];let DT_ArmiesInitialState=[],DT_Armies=[],DT_RelicsInUse=[];const DT_EnemyRear=[0x17,0x16,0x15,0x14,0x13,0x12],DT_EnemyForward=[0x11,0x10,0xf,0xe,0xd,0xc],DT_PlayerForward=[0x0,0x1,0x2,0x3,0x4,0x5],DT_PlayerRear=[0x6,0x7,0x8,0x9,0xa,0xb],DT_LineLength=0x6;let DT_Parent=null,DT_Resources={'icons':{},'sfx':{'Pre':{},'Post':{},'Simple':{}},'projectile':null,'cursed':null},DT_Grid=null,DT_CSSCards=[],DT_ImgWidth=_0xc584a7(0x170),DT_ImgHeight=_0xc584a7(0x170),DT_ImgWidthPx=_0xc584a7(0x173),DT_ImgHeightPx=_0xc584a7(0x173),DT_ActiveUnit=null,DT_PlayerWon=![],DT_EnemyWon=![],DT_LockCallback=![],DT_BattleIsOverCalled=![],DT_ActiveStates=[],TurnCounter=0x0;function _0x5685(_0x8f3fa7,_0x35bc77){const _0x5e90f3=_0x5e90();return _0x5685=function(_0x568583,_0x4afd35){_0x568583=_0x568583-0x10b;let _0x4719d9=_0x5e90f3[_0x568583];return _0x4719d9;},_0x5685(_0x8f3fa7,_0x35bc77);}function CreateBonus(_0x5b3ecb,_0x35e9bc,_0x17abb9,_0x1322a0){const _0x5dcdcb=_0xc584a7;DT_BonusCallbacks[_0x5b3ecb]=_0x1322a0,DT_BonusEmojis[_0x5b3ecb]=_0x35e9bc;for(const _0x2de196 of _0x17abb9){DT_Bonuses[_0x2de196][_0x5dcdcb(0x158)](_0x5b3ecb);}}function GetProperty(_0xc5c0d9,_0x494b91){const _0x597e30=_0xc584a7;return pos=Math[_0x597e30(0x1bc)](_0xc5c0d9),_0x494b91 in DT_Armies[pos]?DT_Armies[pos][_0x494b91]:null;}function SetState(_0x2110d4,_0x49a871,_0x234e38,_0x3082a8,_0x44daa5){const _0x23d499=_0xc584a7;if(_0x2110d4<0x0)return;t=DT_Armies[_0x2110d4];if(!(_0x49a871 in DT_ActiveStates))DT_ActiveStates[_0x49a871]={'emoji':_0x234e38,'frequency':_0x3082a8,'f':_0x44daa5,'sufferers':[t]};else!DT_ActiveStates[_0x49a871][_0x23d499(0x10e)][_0x23d499(0x14d)](t)&&DT_ActiveStates[_0x49a871][_0x23d499(0x10e)][_0x23d499(0x158)](t);}function GoOff(_0x25e110,_0x36a4e7,_0x290a42,_0x5584d3){const _0xfabdb3=_0xc584a7;if(_0x36a4e7<0x0||_0x290a42<0x0)return;if(_0x25e110===_0xfabdb3(0x124))DT_CSSCards[_0x290a42][_0xfabdb3(0x169)][_0xfabdb3(0x1b6)](new CustomEvent(_0xfabdb3(0x134),{'detail':{'type':'Hit','attacker':DT_Armies[_0x36a4e7],'target':DT_Armies[_0x290a42],'attacktype':_0x5584d3}}));else _0x25e110===_0xfabdb3(0x14e)&&DT_CSSCards[_0x290a42][_0xfabdb3(0x169)][_0xfabdb3(0x1b6)](new CustomEvent(_0xfabdb3(0x134),{'detail':{'type':_0xfabdb3(0x14e),'target':DT_Armies[_0x290a42]}}));}function getRandomInt(_0xd87219){const _0x33360f=_0xc584a7;return Math[_0x33360f(0x123)](Math[_0x33360f(0x136)]()*_0xd87219);}function DT_GetUnitNumber(_0x2df6e0){for(let _0x4b61cd=0x0;_0x4b61cd<DT_CSSCards['length'];_0x4b61cd++){if(DT_Armies[_0x4b61cd]===_0x2df6e0)return _0x4b61cd;}return null;}function _0x5e90(){const _0x4a4e33=['target-move','shift','Blessed','player','setAttribute','Move','bottom','round','),\x20','deadunit','contextmenu','aliveunit','ü™Ñ\x20','remove','438024DmZDwL','toggle','target','sfx','<span\x20style=\x22position:absolute\x22>','createElement','tPos','1219923cblmUZ','15vSWhJb','üó°Ô∏è\x20','Position','log','Banish','MagicDirection','7748448KcgXYg','ProtectElemental','618436hlaJLu','enemy','background-size','height','Army\x20identificator\x20is\x20not\x20valid:\x20\x22','ToEnemy','<br>&nbsp;<span\x20style=\x22text-align:right;font-size:1.3em;color:','<span\x20style=\x22position:absolute;top:calc(100%\x20-\x202.4em);left:\x20calc(100%\x20-\x202.4em);\x22>','InitialState','sfx/curseofdeath.wav','key','sfx/dtmove.wav','dtgrid','Win','ü•≤\x20','Draining\x20Life','AttackShot','background-repeat','Pick','Magic','Pre','ToAlly','img','ToAll','detail','Blow','icon','attacker','Protect','1901214UlYfmT','icons/img_','dispatchEvent','ProtectDeath','Loyal','sfx/slide.wav','Shot','each\x20turn','abs','card-back','üèπ\x20','Fist','sfx/shot.wav','type','no-repeat','click','div','</span>','Activate','sqrt','Rogue','frequency','AttackBlow','left','add','background-image','New\x20Turn','Nature','slice','Manevres','linear-gradient(to\x20top,\x20var(--bloodcoloralpha)\x20','Unholy\x20Bless','target-shot','sfx/fist.wav','right','attacktype','<br>','blue','sufferers','sfx/bless.wav','--x','activeunit','Bless','DiscordTimesJS/','&nbsp;','Ghost','descr','classList','length','Attack','Curse\x20of\x20Death','width','Resources\x20haven\x27t\x20been\x20uploaded,\x20make\x20sure\x20you\x20called\x20the\x20function\x20DT_UploadResources()','%,\x20transparent\x200%),\x20url(','sfx/strike.wav','getBoundingClientRect','setProperty','Simple','dimgrey','floor','Hit','pause','669716oxcLXp','forEach','Cursed','The\x20DT_IsReachableFor\x20hasn\x27t\x20been\x20adapted\x20for\x20this\x20army\x20size','318614dkKYyV','sfx/unholybless.wav','Specify\x20a\x20parent\x20node\x20to\x20attach','--y','sfx/curse.wav','number','Hits','contains','each\x20move','God\x20Anger','Action','Bonus','random','<span\x20style=\x22float:right;color:blue;\x22>','string','removeEventListener','src','preventDefault','sfx/wrath.wav','ProtectLife','MagicPower','sfx/whoosh.wav','Post','GlobalIndex','pri','priority','sfx/shothit.wav','Curse','Start','Death','48px,\x20contain,\x20','style','stats','steelblue','üõ°Ô∏è\x20','includes','Pass','icons','Button','Strike','projectile','Initiative','sfx/drain.wav','appendChild','assign','DefenceBlow','push','top','Defence','</span><br>','mediumseagreen','green','addEventListener','sfx/heal.wav','Elemental','aPos','<span\x20style=\x22position:absolute;top:calc(100%\x20-\x202.4em);\x22>üí®\x20','splice',';\x22>','target-bless','Undead','üíÄ\x20','Lose','card','<span\x20style=\x22color:','innerHTML','emptyslot','keyup','God\x20Wrath','play','108','flipped','sfx/losetheme.mp3','108px','sfx/wintheme.mp3','DefenceShot','both','Life','sfx/swordblow.wav'];_0x5e90=function(){return _0x4a4e33;};return _0x5e90();}function DT_GetElementID(_0x2289cf){const _0x45c60d=_0xc584a7;for(let _0x149445=0x0;_0x149445<DT_CSSCards[_0x45c60d(0x118)];_0x149445++){if(DT_CSSCards[_0x149445][_0x45c60d(0x169)]===_0x2289cf)return _0x149445;}return null;}function DT_ApplyBonus(_0x1a09f0,_0x5dfa25,_0x5c4917=null,_0x34c1bc=null,_0x171b5a=null){const _0x174d22=_0xc584a7;let _0x5e777c=DT_Armies[Math[_0x174d22(0x1bc)](_0x5dfa25)],_0x4f8772=DT_Armies[Math['abs'](_0x34c1bc)];if(_0x1a09f0===_0x174d22(0x15a)){if(_0x4f8772===null)return _0x5c4917;bonus=_0x4f8772['Bonus'];}else{if(_0x5e777c===null)return _0x5c4917;bonus=_0x5e777c[_0x174d22(0x135)];}if(DT_Bonuses[_0x1a09f0][_0x174d22(0x14d)](bonus)&&DT_BonusCallbacks[bonus]!==null)return DT_BonusCallbacks[bonus](_0x1a09f0,_0x5dfa25,_0x34c1bc,_0x171b5a,_0x5c4917);return _0x5c4917;}function DT_AttachHit(_0xac21c,_0x46aceb){const _0x307ca3=_0xc584a7;if(_0x46aceb===null)return;DT_NormalizeHit(_0xac21c,_0x46aceb);for(const _0x591bde in _0x46aceb){if(typeof _0x46aceb[_0x591bde]===_0x307ca3(0x12f)&&_0x591bde in _0xac21c)_0xac21c[_0x591bde]+=_0x46aceb[_0x591bde];else _0xac21c[_0x591bde]=_0x46aceb[_0x591bde];}DT_RefreshElement(_0xac21c[_0x307ca3(0x191)]);}function DT_NormalizeHit(_0x3d43f5,_0x541c7d){const _0x1d3c6d=_0xc584a7;if(_0x541c7d===null)return;for(const _0x4c0f31 in _0x541c7d){if(typeof _0x541c7d[_0x4c0f31]===_0x1d3c6d(0x12f)&&_0x541c7d[_0x4c0f31]<0x0&&_0x3d43f5[_0x4c0f31]+_0x541c7d[_0x4c0f31]<0x0)_0x541c7d[_0x4c0f31]=-_0x3d43f5[_0x4c0f31];}_0x1d3c6d(0x130)in _0x541c7d&&(_0x541c7d[_0x1d3c6d(0x130)]+_0x3d43f5[_0x1d3c6d(0x130)]>_0x3d43f5[_0x1d3c6d(0x19f)][_0x1d3c6d(0x130)]&&(_0x541c7d[_0x1d3c6d(0x130)]=_0x3d43f5[_0x1d3c6d(0x19f)][_0x1d3c6d(0x130)]-_0x3d43f5['Hits']),_0x541c7d[_0x1d3c6d(0x130)]=Math[_0x1d3c6d(0x180)](_0x541c7d[_0x1d3c6d(0x130)]));}function DT_ComputeUnitValue(_0x38b5a0){const _0xd47ba=_0xc584a7;if(!DT_IsThereUnit(_0x38b5a0))return 0x0;const _0x16f5ff=_0x38b5a0[_0xd47ba(0x19f)];let _0x1d0e3b=_0x16f5ff['Hits'],_0x2add02=_0x16f5ff[_0xd47ba(0x1d1)],_0x106e25=_0x16f5ff['Initiative'],_0x43050d=_0xd47ba(0x157)in _0x16f5ff?_0x16f5ff[_0xd47ba(0x157)]:0x0,_0x1258ce='DefenceShot'in _0x16f5ff?_0x16f5ff['DefenceShot']:0x0,_0x17037e=_0xd47ba(0x1b7)in _0x16f5ff?_0x16f5ff[_0xd47ba(0x1b7)]:0x0,_0x3a31fe='ProtectLife'in _0x16f5ff?_0x16f5ff['ProtectLife']:0x0,_0x47fa32=_0xd47ba(0x196)in _0x16f5ff?_0x16f5ff['ProtectElemental']:0x0,_0x45c816=_0xd47ba(0x1ca)in _0x16f5ff?_0x16f5ff[_0xd47ba(0x1ca)]:0x0,_0x4a2525='AttackShot'in _0x16f5ff?_0x16f5ff[_0xd47ba(0x1a7)]:0x0,_0x285eaa=_0xd47ba(0x13e)in _0x16f5ff?_0x16f5ff[_0xd47ba(0x13e)]:0x0;return _0x1d0e3b*(0x1+(_0x43050d+_0x1258ce)/0x64+(_0x3a31fe+_0x17037e+_0x47fa32)/0x12c)+(_0x45c816+_0x4a2525+_0x285eaa)*(0x2+_0x106e25/0xa)*_0x2add02;}function DT_ComputeUnitsPriority(_0x303458,_0x46af7a){const _0x298871=_0xc584a7;let _0xf3007f=DT_Armies[_0x303458],_0x213149=DT_Armies[_0x46af7a],_0x2a944e=DT_GetPossibleAttack(_0x303458,_0x46af7a),_0x4f648e={'priority':0x0,'attacktype':_0x2a944e};if(_0x2a944e===null)return _0x4f648e;let _0x1e6182=DT_IsPlayersUnit(_0xf3007f)?DT_PlayerForward[_0x298871(0x1d0)]():DT_EnemyForward[_0x298871(0x1d0)]();_0x1e6182[_0x298871(0x163)](DT_GetUnitNumberInLine(_0x303458),0x1);if(_0x2a944e!==null&&_0x2a944e!==_0x298871(0x17e)){_0x4f648e[_0x298871(0x143)]=0x64,_0x4f648e['attacktype']=_0x2a944e;let _0x1d509e=DT_ComputeUnitValue(_0x213149);_0x4f648e['priority']+=_0x1d509e;let _0x27e3ff=DT_CalculateHit(_0xf3007f,_0x213149,_0x2a944e);_0x27e3ff=DT_ApplyBonus(_0x298871(0x119),-_0x303458,_0x27e3ff,-_0x46af7a,_0x2a944e),_0x27e3ff=DT_ApplyBonus('Defence',-_0x303458,_0x27e3ff,-_0x46af7a,_0x2a944e),DT_NormalizeHit(_0x213149,_0x27e3ff),_0x213149['Hits']+_0x27e3ff[_0x298871(0x130)]===0x0&&(_0x4f648e[_0x298871(0x143)]+=0x3e8),actual=_0x21a7bb=>_0x21a7bb in _0x27e3ff?Math[_0x298871(0x1bc)](_0x27e3ff[_0x21a7bb]):0x0,_0x4f648e[_0x298871(0x143)]+=(actual(_0x298871(0x130))+actual(_0x298871(0x175))/0x2+actual(_0x298871(0x157))/0x2+actual(_0x298871(0x1ca))/0x2+actual(_0x298871(0x1a7))/0x2)*(_0x1d509e/0xa)+actual(_0x298871(0x1d1))*_0x1d509e+0x64*actual(_0x298871(0x128));}else{if(_0x2a944e===_0x298871(0x17e)){if('AttackBlow'in _0xf3007f&&DT_IsRearPosition(_0x303458))_0x4f648e['priority']+=DT_IsForwardPosition(_0x46af7a)?0xc8:-0xc8;else(_0x298871(0x1a7)in _0xf3007f||_0x298871(0x13e)in _0xf3007f)&&DT_IsForwardPosition(_0x303458)&&DT_AreThereOccupiedPosition(_0x1e6182)&&(_0x4f648e[_0x298871(0x143)]+=DT_IsRearPosition(_0x46af7a)?0x320:-0x320);}}return _0x4f648e;}function DT_GetUnitNumberInLine(_0x5f084a){return _0x5f084a<ARMY_SIZE?_0x5f084a%DT_LineLength:DT_LineLength-0x1-_0x5f084a%DT_LineLength;}function DT_PlaySFX(_0x286a0c,_0x37c1f9=_0xc584a7(0x121)){const _0x2ce8bb=_0xc584a7;if(!(_0x286a0c in DT_Resources['sfx'][_0x37c1f9]))return;DT_Resources['sfx'][_0x37c1f9][_0x286a0c][_0x2ce8bb(0x125)](),DT_Resources[_0x2ce8bb(0x18a)][_0x37c1f9][_0x286a0c]['currentTime']=0x0,DT_Resources[_0x2ce8bb(0x18a)][_0x37c1f9][_0x286a0c][_0x2ce8bb(0x16f)]();}function DT_AnimationDeath(_0x42bfa8){const _0x48c892=_0xc584a7;DT_CSSCards[_0x42bfa8]['card'][_0x48c892(0x117)]['add'](_0x48c892(0x182)),setTimeout(function(){const _0x4883bd=_0x48c892;DT_CSSCards[_0x42bfa8][_0x4883bd(0x169)][_0x4883bd(0x117)]['remove'](_0x4883bd(0x182));},0x1f4);}function DT_AnimationHit(_0x253665,_0x859fc5,_0x970f08){const _0x12a777=_0xc584a7;let _0x2cb529=1.5,_0x1fa06c=new Image();const _0x18d3f2=DT_CSSCards[_0x859fc5][_0x12a777(0x1ad)]['getBoundingClientRect'](),_0x5cb987=DT_CSSCards[_0x253665][_0x12a777(0x1ad)][_0x12a777(0x11f)](),_0x527118=0x40,_0x26311b={'left':(_0x5cb987[_0x12a777(0x1cb)]+_0x5cb987[_0x12a777(0x1d6)]-_0x527118)/0x2,'top':(_0x5cb987[_0x12a777(0x159)]+_0x5cb987[_0x12a777(0x17f)]-_0x527118)/0x2},_0x177453={'left':(_0x18d3f2[_0x12a777(0x1cb)]+_0x18d3f2[_0x12a777(0x1d6)]-_0x527118)/0x2,'top':(_0x18d3f2['top']+_0x18d3f2['bottom']-_0x527118)/0x2};let _0x9855fc=_0x177453['left']-_0x26311b[_0x12a777(0x1cb)],_0x481b58=_0x177453[_0x12a777(0x159)]-_0x26311b[_0x12a777(0x159)];const _0x5a94c9=Math[_0x12a777(0x1c7)](_0x9855fc*_0x9855fc+_0x481b58*_0x481b58);let _0x4e66d5=_0x5a94c9/_0x2cb529;return _0x1fa06c[_0x12a777(0x13a)]=DT_Resources[_0x12a777(0x152)]['src'],_0x1fa06c[_0x12a777(0x149)]['left']=_0x26311b[_0x12a777(0x1cb)]+'px',_0x1fa06c[_0x12a777(0x149)][_0x12a777(0x159)]=_0x26311b[_0x12a777(0x159)]+'px',_0x1fa06c[_0x12a777(0x149)][_0x12a777(0x120)](_0x12a777(0x110),_0x9855fc+'px'),_0x1fa06c[_0x12a777(0x149)]['setProperty'](_0x12a777(0x12d),_0x481b58+'px'),_0x1fa06c[_0x12a777(0x149)][_0x12a777(0x120)]('--timeout',_0x4e66d5+'ms'),_0x1fa06c[_0x12a777(0x117)][_0x12a777(0x1cc)]('projectile'),DT_Parent['appendChild'](_0x1fa06c),DT_PlaySFX(_0x970f08,_0x12a777(0x1ab)),setTimeout(()=>{const _0x5a868a=_0x12a777;DT_PlaySFX(_0x970f08,'Post'),_0x1fa06c[_0x5a868a(0x186)]();},_0x4e66d5),_0x4e66d5;}function getCellsBetweenPoints(_0x4b9dd6,_0x2cc2b6){const _0x349cb2=_0xc584a7;var _0x3fd1da=[],_0x2e3f84=_0x4b9dd6['x'],_0x185f76=_0x4b9dd6['y'],_0x538f32=_0x2cc2b6['x'],_0x3de767=_0x2cc2b6['y'],_0x21a430=Math[_0x349cb2(0x1bc)](_0x538f32-_0x2e3f84),_0x30ecee=Math[_0x349cb2(0x1bc)](_0x3de767-_0x185f76),_0xac7c05=_0x2e3f84<_0x538f32?0x1:-0x1,_0xf6e9c3=_0x185f76<_0x3de767?0x1:-0x1,_0x31c4f5=_0x21a430-_0x30ecee;_0x3fd1da[_0x349cb2(0x158)]({'y':_0x185f76,'x':_0x2e3f84});while(!(_0x2e3f84===_0x538f32&&_0x185f76===_0x3de767)){var _0x566afd=_0x31c4f5<<0x1;_0x566afd>-_0x30ecee&&(_0x31c4f5-=_0x30ecee,_0x2e3f84+=_0xac7c05),_0x566afd<_0x21a430&&(_0x31c4f5+=_0x21a430,_0x185f76+=_0xf6e9c3),_0x3fd1da['push']({'y':_0x185f76,'x':_0x2e3f84});}return _0x3fd1da;}function DT_IsBattleOver(){return DT_EnemyWon=!DT_AreThereOccupiedPosition(DT_PlayerForward)&&!DT_AreThereOccupiedPosition(DT_PlayerRear),DT_PlayerWon=!DT_AreThereOccupiedPosition(DT_EnemyForward)&&!DT_AreThereOccupiedPosition(DT_EnemyRear),DT_EnemyWon||DT_PlayerWon;}function DT_AIMove(){const _0x50143e=_0xc584a7;!DT_IsPlayersUnit(DT_ActiveUnit)&&(DT_AIPerformAction(),DT_ActiveUnit[_0x50143e(0x1d1)]-=0x1,DT_RefreshElement(DT_ActiveUnit[_0x50143e(0x191)]));}function DT_AIPerformAction(){const _0x3626a8=_0xc584a7;let _0x2b0887=null;for(let _0x28b2ba=0x0;_0x28b2ba<DT_CSSCards[_0x3626a8(0x118)];_0x28b2ba++){pri=DT_ComputeUnitsPriority(DT_ActiveUnit[_0x3626a8(0x191)],_0x28b2ba),pri[_0x3626a8(0x10b)]!==null&&(_0x2b0887===null||pri[_0x3626a8(0x143)]>_0x2b0887[_0x3626a8(0x142)])&&(_0x2b0887={'pri':pri[_0x3626a8(0x143)],'tPos':_0x28b2ba,'atype':pri[_0x3626a8(0x10b)]});}_0x2b0887!==null?DT_CSSCards[_0x2b0887[_0x3626a8(0x18d)]]['card'][_0x3626a8(0x1b6)](new CustomEvent('Action',{'detail':{'type':_0x3626a8(0x124),'attacker':DT_ActiveUnit,'target':DT_Armies[_0x2b0887[_0x3626a8(0x18d)]],'attacktype':_0x2b0887['atype']}})):DT_CSSCards[DT_ActiveUnit[_0x3626a8(0x191)]]['card'][_0x3626a8(0x1b6)](new CustomEvent('Action',{'detail':{'type':_0x3626a8(0x14e),'target':DT_ActiveUnit}}));}function findNextLowerInitiative(_0x2226ee){const _0x32189a=_0xc584a7;let _0x345940=null;for(const _0x20abf4 of DT_Armies){DT_IsUnitEngaged(_0x20abf4)&&_0x20abf4[_0x32189a(0x153)]<=_0x2226ee&&(_0x345940===null||_0x20abf4[_0x32189a(0x153)]>=_0x345940['Initiative'])&&(_0x345940=_0x20abf4);}return _0x345940;}function DT_ArePositionAllies(_0x32fb4e,_0x547d68){return _0x32fb4e<ARMY_SIZE&&_0x547d68<ARMY_SIZE||_0x32fb4e>=ARMY_SIZE&&_0x547d68>=ARMY_SIZE;}function DT_IsForwardPosition(_0xd491c7){const _0xa5a493=_0xc584a7;return DT_EnemyForward[_0xa5a493(0x14d)](_0xd491c7)||DT_PlayerForward[_0xa5a493(0x14d)](_0xd491c7);}function DT_IsRearPosition(_0x359fe8){const _0x11bd45=_0xc584a7;return DT_EnemyRear[_0x11bd45(0x14d)](_0x359fe8)||DT_PlayerRear['includes'](_0x359fe8);}function DT_AreThereOccupiedPosition(_0x496506){for(const _0x14994f of _0x496506){if(_0x14994f!==null&&DT_IsThereUnit(DT_Armies[_0x14994f]))return!![];}return![];}function DT_DoesMagicAffect(_0x34b3fb,_0x1fe89e){const _0x52dd74=_0xc584a7;return DT_ArePositionAllies(_0x34b3fb[_0x52dd74(0x191)],_0x1fe89e[_0x52dd74(0x191)])?(magictype=_0x34b3fb[_0x52dd74(0x1aa)][_0x52dd74(0x1d0)](0x0,-0x5),magictype===_0x52dd74(0x147)&&_0x1fe89e[_0x52dd74(0x1cf)]==='Undead'||magictype!==_0x52dd74(0x147)&&_0x1fe89e[_0x52dd74(0x1cf)]!=='Undead'):!![];}function DT_IsThereUnit(_0x1d0cb0){const _0x1d57c5=_0xc584a7;return _0x1d0cb0!==null&&_0x1d0cb0[_0x1d57c5(0x130)]>0x0;}function DT_IsPlayersUnit(_0x1d4f82){const _0x24fcaa=_0xc584a7;return _0x1d4f82[_0x24fcaa(0x191)]<ARMY_SIZE;}function DT_IsUnitEngaged(_0x489fe0){const _0x3f422a=_0xc584a7;return _0x489fe0!==null&&_0x489fe0[_0x3f422a(0x1d1)]>0x0&&_0x489fe0['Hits']>0x0;}function DT_GetPossibleAttack(_0x18367c,_0x3b0c00){const _0x2ee467=_0xc584a7;a=DT_Armies[_0x18367c],t=DT_Armies[_0x3b0c00];let _0x573979=null;if(DT_IsThereUnit(a)&&DT_IsThereUnit(t)&&typeof DT_CSSCards[_0x18367c]==='object'){hitPath=DT_GetPossiblePath(_0x18367c,_0x3b0c00);if(hitPath['length']===0x0)return null;let _0x31395a=DT_IsPlayersUnit(a)?DT_EnemyForward[_0x2ee467(0x1d0)]():DT_PlayerForward[_0x2ee467(0x1d0)](),_0x2ab968=0x0;for(const _0x429cb6 of hitPath){if(DT_IsThereUnit(DT_Armies[_0x429cb6])&&!DT_ArePositionAllies(_0x18367c,_0x429cb6))_0x2ab968++;}let _0x20615b=DT_GetUnitNumberInLine(_0x18367c),_0xf88e4b=_0x20615b-0x1<0x0?null:_0x31395a[_0x20615b-0x1],_0x377a75=_0x31395a[_0x20615b],_0xafa0e0=_0x20615b+0x1>=_0x31395a[_0x2ee467(0x118)]?null:_0x31395a[_0x20615b+0x1],_0xb0aff6=DT_IsForwardPosition(_0x18367c)&&DT_AreThereOccupiedPosition([_0xf88e4b,_0x377a75,_0xafa0e0]),_0x50e026=Math[_0x2ee467(0x1bc)](_0x20615b-DT_GetUnitNumberInLine(_0x3b0c00))<0x2&&DT_IsForwardPosition(_0x3b0c00)&&_0xb0aff6;if(!DT_ArePositionAllies(_0x18367c,_0x3b0c00)){if(_0x2ee467(0x1ca)in a&&DT_IsForwardPosition(_0x18367c)){if(_0x50e026===!![])_0x573979=a[_0x2ee467(0x1ca)]>0xf?_0x2ee467(0x1b0):'Fist';else!_0xb0aff6&&DT_IsForwardPosition(_0x3b0c00)&&_0x2ab968<0x2&&(_0x573979=a[_0x2ee467(0x1ca)]>0xf?_0x2ee467(0x1b0):_0x2ee467(0x1bf));}else{if('AttackShot'in a){if(DT_IsRearPosition(_0x18367c))_0x573979=a[_0x2ee467(0x141)]===0x18||a[_0x2ee467(0x141)]===0x19?_0x2ee467(0x151):_0x2ee467(0x1ba);else{if(_0x50e026===!![])_0x573979=a[_0x2ee467(0x141)]===0x18||a[_0x2ee467(0x141)]===0x19?_0x2ee467(0x151):'Shot';else!_0xb0aff6&&_0x2ab968<0x2&&(_0x573979=a[_0x2ee467(0x141)]===0x18||a['GlobalIndex']===0x19?_0x2ee467(0x151):'Shot');}}else{if((!_0xb0aff6||_0xb0aff6&&_0x50e026&&a[_0x2ee467(0x135)]===_0x2ee467(0x115))&&_0x2ee467(0x13e)in a&&(a[_0x2ee467(0x194)]===_0x2ee467(0x19c)||a[_0x2ee467(0x194)]===_0x2ee467(0x1ae))&&DT_DoesMagicAffect(a,t)){if(t[_0x2ee467(0x128)]===!![])_0x573979=_0x2ee467(0x1a6);else a[_0x2ee467(0x1cf)]===_0x2ee467(0x166)?_0x573979=_0x2ee467(0x11a):_0x573979=_0x2ee467(0x145);}}}}else{if(_0x2ee467(0x13e)in a&&(a['MagicDirection']===_0x2ee467(0x1ac)||a[_0x2ee467(0x194)]===_0x2ee467(0x1ae))&&DT_DoesMagicAffect(a,t)){if(t[_0x2ee467(0x130)]<t[_0x2ee467(0x19f)][_0x2ee467(0x130)])_0x573979='Heal';else t[_0x2ee467(0x17b)]===![]&&(_0x573979=t[_0x2ee467(0x1cf)]===_0x2ee467(0x166)?_0x2ee467(0x1d3):_0x2ee467(0x112));}}}else DT_IsThereUnit(a)&&DT_ArePositionAllies(_0x18367c,_0x3b0c00)&&typeof DT_CSSCards[_0x18367c]==='object'&&(_0x573979=_0x2ee467(0x17e));return _0x573979;}function DT_GetPossiblePath(_0x42d289,_0x244374){const _0x11b33e=_0xc584a7;table=[DT_EnemyRear,DT_EnemyForward,DT_PlayerForward,DT_PlayerRear];if(ARMY_SIZE!==0xc)return console[_0x11b33e(0x192)](_0x11b33e(0x129)),[];const _0x19de3d={'aPos':{'x':null,'y':null},'tPos':{'x':null,'y':null}};for(let _0x55aa63=0x0;_0x55aa63<table[_0x11b33e(0x118)];_0x55aa63++){for(let _0x59bbf3=0x0;_0x59bbf3<table[_0x55aa63][_0x11b33e(0x118)];_0x59bbf3++){table[_0x55aa63][_0x59bbf3]===_0x42d289&&(_0x19de3d[_0x11b33e(0x161)]['x']=_0x59bbf3,_0x19de3d['aPos']['y']=_0x55aa63),table[_0x55aa63][_0x59bbf3]===_0x244374&&(_0x19de3d[_0x11b33e(0x18d)]['x']=_0x59bbf3,_0x19de3d[_0x11b33e(0x18d)]['y']=_0x55aa63);}}let _0x137ebb=[],_0x478bfa=getCellsBetweenPoints(_0x19de3d['aPos'],_0x19de3d[_0x11b33e(0x18d)]);for(const _0x3a3895 of _0x478bfa){_0x137ebb[_0x11b33e(0x158)](table[_0x3a3895['y']][_0x3a3895['x']]);}return _0x137ebb;}function DT_CallbackFlipCard(_0x166d16){const _0x51a5da=_0xc584a7;_0x166d16[_0x51a5da(0x13b)]();if(!this['classList'][_0x51a5da(0x131)](_0x51a5da(0x111)))this['classList'][_0x51a5da(0x188)](_0x51a5da(0x171));}function DT_CallbackAction(_0x23a3fd){const _0x188895=_0xc584a7;let _0x311a33='attacker'in _0x23a3fd[_0x188895(0x1af)]?_0x23a3fd['detail'][_0x188895(0x1b2)]:null,_0x3bac6d=_0x188895(0x189)in _0x23a3fd['detail']?_0x23a3fd[_0x188895(0x1af)][_0x188895(0x189)]:null,_0xb74a56=_0x3bac6d===null?DT_GetElementID(this):_0x3bac6d['Position'],_0x302185=_0x23a3fd['detail'][_0x188895(0x10b)],_0x457ea9=0x0,_0x3f18d8=![],_0x3ab924=function(){};if(DT_IsBattleOver()){DT_BattleIsOver();return;}if(_0x23a3fd[_0x188895(0x1af)][_0x188895(0x1c1)]==='Activate'){DT_GiveMoveTo(_0x3bac6d),DT_LockCallback=![];if(!DT_IsPlayersUnit(DT_ActiveUnit))DT_AIMove();return;}if(_0x23a3fd[_0x188895(0x1af)][_0x188895(0x1c1)]===_0x188895(0x124)&&DT_IsThereUnit(_0x311a33))_0x3ab924=function(){const _0x25a8e1=_0x188895;_0x302185==='Move'?DT_SwapUnits([_0x311a33['Position']],[_0xb74a56],DT_Armies):(hit=DT_CalculateHit(_0x311a33,_0x3bac6d,_0x302185),hit=DT_ApplyBonus(_0x25a8e1(0x119),_0x311a33[_0x25a8e1(0x191)],hit,_0xb74a56,_0x302185),hit=DT_ApplyBonus(_0x25a8e1(0x15a),_0x311a33[_0x25a8e1(0x191)],hit,_0xb74a56,_0x302185),DT_AttachHit(_0x3bac6d,hit));if(!DT_AreThereOccupiedPosition(DT_PlayerForward))DT_SwapUnits(DT_PlayerForward,DT_PlayerRear);else!DT_AreThereOccupiedPosition(DT_EnemyForward)&&DT_SwapUnits(DT_EnemyForward,DT_EnemyRear);},_0x457ea9=DT_AnimationHit(_0x311a33['Position'],_0xb74a56,_0x302185);else{if(_0x23a3fd[_0x188895(0x1af)][_0x188895(0x1c1)]==='New\x20Turn')_0x3ab924=function(){const _0x2ae16f=_0x188895;_0x3f18d8=!![],TurnCounter++,DT_CheckStates(_0x2ae16f(0x1bb));for(const _0x425ed3 of DT_Armies){if(DT_IsThereUnit(_0x425ed3)){for(const _0x1c9a13 of DT_RestorableCharacteristics){if(_0x1c9a13 in _0x425ed3[_0x2ae16f(0x19f)])_0x425ed3[_0x1c9a13]=_0x425ed3[_0x2ae16f(0x19f)][_0x1c9a13];else delete _0x425ed3[_0x1c9a13];}TurnCounter===0x1&&(hit=DT_ApplyBonus(_0x2ae16f(0x146),_0x425ed3['Position']),DT_AttachHit(_0x425ed3,hit)),TurnCounter>0x3&&_0x2ae16f(0x13e)in _0x425ed3&&_0x425ed3[_0x2ae16f(0x13e)]>0xf&&(_0x425ed3[_0x2ae16f(0x13e)]=_0x425ed3[_0x2ae16f(0x13e)]-0x2<0xf?0xf:_0x425ed3[_0x2ae16f(0x13e)]-0x2),DT_RefreshElement(_0x425ed3['Position']);}}};else{}}setTimeout(function(){const _0x562603=_0x188895;_0x3ab924(),DT_CheckStates(_0x562603(0x132));let _0xd81eac=DT_ActiveUnit;(!DT_IsUnitEngaged(_0xd81eac)||_0x3f18d8)&&(_0xd81eac=findNextLowerInitiative(Infinity)),_0xd81eac!==null?DT_CSSCards[_0xd81eac[_0x562603(0x191)]][_0x562603(0x169)][_0x562603(0x1b6)](new CustomEvent(_0x562603(0x134),{'detail':{'type':_0x562603(0x1c6),'target':_0xd81eac}})):DT_CSSCards[0x0][_0x562603(0x169)][_0x562603(0x1b6)](new CustomEvent(_0x562603(0x134),{'detail':{'type':'New\x20Turn','target':0x0}}));},_0x457ea9);}function DT_Callback(){const _0x4a8645=_0xc584a7;if(DT_LockCallback===!![]||!DT_IsPlayersUnit(DT_ActiveUnit))return;let _0x4d4f36=DT_GetElementID(this),_0x4799a9=DT_Armies[_0x4d4f36];attacktype=DT_GetPossibleAttack(DT_ActiveUnit[_0x4a8645(0x191)],_0x4d4f36);if(attacktype!==null&&DT_ActiveUnit['Manevres']>0x0)DT_LockCallback=!![],DT_ActiveUnit['Manevres']-=0x1,DT_RefreshElement(DT_ActiveUnit[_0x4a8645(0x191)]),DT_CSSCards[_0x4d4f36]['card'][_0x4a8645(0x1b6)](new CustomEvent('Action',{'detail':{'type':_0x4a8645(0x124),'attacker':DT_ActiveUnit,'target':_0x4799a9,'attacktype':attacktype}}));else DT_ActiveUnit===_0x4799a9&&(DT_LockCallback=!![],DT_ActiveUnit[_0x4a8645(0x1d1)]-=0x1,DT_RefreshElement(DT_ActiveUnit[_0x4a8645(0x191)]),DT_CSSCards[DT_ActiveUnit[_0x4a8645(0x191)]][_0x4a8645(0x169)][_0x4a8645(0x1b6)](new CustomEvent('Action',{'detail':{'type':_0x4a8645(0x14e),'target':DT_ActiveUnit}})));}function DT_CallbackSpace(_0x4daf41){const _0x26dae9=_0xc584a7;if(DT_LockCallback===!![]||!DT_IsPlayersUnit(DT_ActiveUnit))return;_0x4daf41[_0x26dae9(0x1a1)]==='\x20'&&(DT_LockCallback=!![],DT_ActiveUnit[_0x26dae9(0x1d1)]-=0x1,DT_RefreshElement(DT_ActiveUnit[_0x26dae9(0x191)]),DT_CSSCards[DT_ActiveUnit[_0x26dae9(0x191)]][_0x26dae9(0x169)][_0x26dae9(0x1b6)](new CustomEvent(_0x26dae9(0x134),{'detail':{'type':_0x26dae9(0x14e),'target':DT_ActiveUnit}})));}function DT_CalculateHit(_0x18c6f7,_0x33ca0c,_0xd9c29a){const _0x416508=_0xc584a7;gained={'Hits':0x0};let _0x467db5;switch(_0xd9c29a){case _0x416508(0x1bf):case'Blow':def=_0x416508(0x157)in _0x33ca0c?_0x33ca0c['DefenceBlow']:0x0,dmg=_0x18c6f7['AttackBlow']-def>0x0?_0x18c6f7['AttackBlow']-def:0x1,gained[_0x416508(0x130)]-=dmg;break;case _0x416508(0x151):case'Shot':def=_0x416508(0x175)in _0x33ca0c?_0x33ca0c['DefenceShot']:0x0,dmg=_0x18c6f7['AttackShot']-def>0x0?_0x18c6f7[_0x416508(0x1a7)]-def:0x1,gained[_0x416508(0x130)]-=dmg;break;case'Heal':gained[_0x416508(0x130)]+=_0x18c6f7[_0x416508(0x13e)];break;case _0x416508(0x11a):case'Curse':gained[_0x416508(0x128)]=!![],_0x467db5=_0x18c6f7['Magic'][_0x416508(0x1d0)](0x0,-0x5),restype='Protect'+_0x467db5;let _0x397bbc=_0x18c6f7['MagicPower'];restype in _0x33ca0c&&(_0x397bbc=Math['round'](_0x18c6f7[_0x416508(0x13e)]*(0x1-_0x33ca0c[restype]/0x64)));defdown=Math['round'](_0x397bbc*0.2);_0x416508(0x157)in _0x33ca0c&&(gained[_0x416508(0x157)]=-defdown);_0x416508(0x175)in _0x33ca0c&&(gained[_0x416508(0x175)]=-defdown);attdown=Math[_0x416508(0x180)](_0x397bbc*0.1);_0x416508(0x1ca)in _0x33ca0c&&(gained[_0x416508(0x1ca)]=-attdown);'AttackShot'in _0x33ca0c&&(gained[_0x416508(0x1a7)]=-attdown);_0x467db5===_0x416508(0x160)&&(gained[_0x416508(0x1d1)]=_0x397bbc>=0x32?-0x2:_0x397bbc>=0x19?-0x1:0x0,gained['Initiative']=-Math['round'](_0x397bbc/0xa));break;case'Unholy\x20Bless':case _0x416508(0x112):_0x467db5=_0x18c6f7['Magic']['slice'](0x0,-0x5),gained[_0x416508(0x17b)]=!![],defup=Math[_0x416508(0x180)](_0x18c6f7[_0x416508(0x13e)]*0.34),gained['DefenceBlow']=defup,gained[_0x416508(0x175)]=defup,attup=Math[_0x416508(0x180)](_0x18c6f7[_0x416508(0x13e)]*0.2);'AttackBlow'in _0x33ca0c&&(gained['AttackBlow']=attup);_0x416508(0x1a7)in _0x33ca0c&&(gained[_0x416508(0x1a7)]=attup);_0x467db5===_0x416508(0x160)&&(gained[_0x416508(0x1d1)]=_0x18c6f7[_0x416508(0x13e)]>=0x32?0x2:_0x18c6f7[_0x416508(0x13e)]>=0x19?0x1:0x0,gained[_0x416508(0x153)]=Math['round'](_0x18c6f7[_0x416508(0x13e)]/0xa));break;case'Draining\x20Life':let _0x497e2a=0x1;_0x467db5=_0x18c6f7[_0x416508(0x1aa)][_0x416508(0x1d0)](0x0,-0x5),restype=_0x416508(0x1b3)+_0x467db5;restype in _0x33ca0c&&(_0x497e2a-=_0x33ca0c[restype]/0x64);let _0x44c08e=0x1;_0x33ca0c['Nature']===_0x416508(0x166)&&_0x467db5===_0x416508(0x177)&&(_0x44c08e=0x2);gained['Hits']=-(_0x18c6f7['MagicPower']*_0x497e2a*_0x44c08e);break;case _0x416508(0x193):gained[_0x416508(0x130)]=-_0x33ca0c[_0x416508(0x130)];break;case _0x416508(0x133):gained[_0x416508(0x130)]=gained[_0x416508(0x130)]-0xa;break;case _0x416508(0x16e):gained[_0x416508(0x130)]=gained[_0x416508(0x130)]-0x14;break;default:break;}return gained;}function DT_CheckStates(_0x19a17c){const _0x3bc80d=_0xc584a7;for(const _0x4a3525 in DT_ActiveStates){if(DT_ActiveStates[_0x4a3525][_0x3bc80d(0x1c9)]===_0x19a17c)for(const _0x287f8b of DT_ActiveStates[_0x4a3525]['sufferers']){DT_ActiveStates[_0x4a3525]['f'](_0x287f8b),DT_RefreshElement(_0x287f8b[_0x3bc80d(0x191)]);}}}function DT_SwapUnits(_0xfecc6b,_0x41da94,_0x26c8f0=![]){const _0x53f183=_0xc584a7;_0xfecc6b[_0x53f183(0x118)]!==_0x41da94[_0x53f183(0x118)]&&console['log']('Not\x20equal\x20groups\x20of\x20units\x20are\x20being\x20swaped!');for(let _0x2a18ed=0x0;_0x2a18ed<_0xfecc6b[_0x53f183(0x118)];_0x2a18ed++){let _0x266f31=_0x41da94[_0x2a18ed],_0x5c49fb=_0xfecc6b[_0x2a18ed],_0x6558e=DT_Armies[_0x266f31];DT_Armies[_0x266f31]=DT_Armies[_0x5c49fb],DT_Armies[_0x5c49fb]=_0x6558e,DT_Armies[_0x266f31]!==null&&(DT_Armies[_0x266f31][_0x53f183(0x191)]=_0x266f31,_0x26c8f0===!![]&&(DT_Armies[_0x266f31][_0x53f183(0x19f)][_0x53f183(0x191)]=_0x266f31)),DT_Armies[_0x5c49fb]!==null&&(DT_Armies[_0x5c49fb][_0x53f183(0x191)]=_0x5c49fb,_0x26c8f0===!![]&&(DT_Armies[_0x5c49fb][_0x53f183(0x19f)][_0x53f183(0x191)]=_0x5c49fb)),DT_RefreshElement(_0x5c49fb),DT_RefreshElement(_0x266f31);}}function DT_GiveMoveTo(_0x334119){const _0x132a4e=_0xc584a7;DT_ActiveUnit=_0x334119;const _0x599177={'Fist':_0x132a4e(0x1d4),'Blow':_0x132a4e(0x1d4),'Shot':_0x132a4e(0x1d4),'Curse':_0x132a4e(0x1d4),'Curse\x20of\x20Death':_0x132a4e(0x1d4),'Draining\x20Life':'target-shot','Strike':_0x132a4e(0x1d4),'Heal':_0x132a4e(0x165),'Unholy\x20Bless':'target-bless','Bless':_0x132a4e(0x165),'Move':'target-move'};for(let _0x26c6ef=0x0;_0x26c6ef<DT_CSSCards['length'];_0x26c6ef++){attacktype=DT_GetPossibleAttack(DT_ActiveUnit[_0x132a4e(0x191)],_0x26c6ef);let _0x55c8ca=DT_CSSCards[_0x26c6ef][_0x132a4e(0x169)][_0x132a4e(0x117)];_0x55c8ca['remove']('target-shot','target-bless',_0x132a4e(0x179),_0x132a4e(0x111)),attacktype!==null&&DT_IsPlayersUnit(DT_ActiveUnit)&&_0x55c8ca[_0x132a4e(0x1cc)](_0x599177[attacktype]);}DT_CSSCards[DT_ActiveUnit['Position']][_0x132a4e(0x169)]['classList'][_0x132a4e(0x186)](_0x132a4e(0x171)),DT_CSSCards[DT_ActiveUnit['Position']][_0x132a4e(0x169)][_0x132a4e(0x117)]['add'](_0x132a4e(0x111));}function DT_BattleIsOver(){const _0x32d581=_0xc584a7;if(DT_BattleIsOverCalled===!![])return;DT_BattleIsOverCalled=!![];if(DT_PlayerWon===!![])DT_PlaySFX(_0x32d581(0x1a4));else DT_PlaySFX(_0x32d581(0x168));for(const _0x2fef42 of DT_CSSCards){_0x2fef42[_0x32d581(0x169)]['classList'][_0x32d581(0x186)](_0x32d581(0x111));}DT_DeleteListeners();}function DT_RemoveUnit(_0x159ee1){const _0x4058e2=_0xc584a7;_0x159ee1!==null&&(DT_Armies[_0x159ee1[_0x4058e2(0x191)]]=null);}function DT_AddUnit(_0x11506e,_0x345537){const _0xfc6891=_0xc584a7;if(!(_0x345537 in DT_Units))return console[_0xfc6891(0x192)]('There\x20is\x20no\x20unit\x20with\x20the\x20name:\x20'+_0x345537),null;let _0x47555b=[];if(_0x11506e==='player')_0x47555b=[...DT_PlayerForward,...DT_PlayerRear];else{if(_0x11506e===_0xfc6891(0x198))_0x47555b=[...DT_EnemyForward,...DT_EnemyRear];else return console[_0xfc6891(0x192)](_0xfc6891(0x19b)+_0x11506e+'\x22'),null;}for(const _0x46fe3d of _0x47555b){if(!DT_Armies[_0x46fe3d])return DT_Armies[_0x46fe3d]=Object[_0xfc6891(0x156)]({},DT_Units[_0x345537]),DT_Armies[_0x46fe3d][_0xfc6891(0x17b)]=![],DT_Armies[_0x46fe3d][_0xfc6891(0x128)]=![],DT_Armies[_0x46fe3d]['Position']=_0x46fe3d,!(_0xfc6891(0x1cf)in DT_Armies[_0x46fe3d])&&(DT_Armies[_0x46fe3d][_0xfc6891(0x1cf)]='Loyal'),DT_ArmiesInitialState[_0x46fe3d]=Object[_0xfc6891(0x156)]({},DT_Armies[_0x46fe3d]),DT_Armies[_0x46fe3d][_0xfc6891(0x19f)]=DT_ArmiesInitialState[_0x46fe3d],_0x46fe3d;}return console[_0xfc6891(0x192)]('The\x20army\x20is\x20at\x20capacity'),null;}function DT_ResurrectArmy(_0x22cd47){const _0xcdab93=_0xc584a7;let _0x10b916=_0x22cd47===_0xcdab93(0x17c)?[...DT_PlayerForward,...DT_PlayerRear]:[...DT_EnemyForward,...DT_EnemyRear];for(const _0x3d974d of _0x10b916){DT_Armies[_0x3d974d]!==null&&(uinit=DT_Armies[_0x3d974d][_0xcdab93(0x19f)],DT_Armies[_0x3d974d]=Object[_0xcdab93(0x156)]({},uinit),DT_Armies[_0x3d974d][_0xcdab93(0x19f)]=uinit);}for(const _0x8c9dfe of _0x10b916){DT_Armies[_0x8c9dfe]!==null&&(initpos=DT_Armies[_0x8c9dfe][_0xcdab93(0x19f)]['Position'],_0x8c9dfe!==initpos&&DT_SwapUnits([_0x8c9dfe],[initpos]));}}function DT_CreateArmy(_0x1b4153,_0x1ee32f){const _0xee1768=_0xc584a7;let _0x19e874=_0x1b4153===_0xee1768(0x17c)?[...DT_PlayerForward,...DT_PlayerRear]:[...DT_EnemyForward,...DT_EnemyRear];for(const _0x34eda9 of _0x19e874){naming=_0x1ee32f[_0xee1768(0x17a)]();if(!(naming in DT_Units)){DT_Armies[_0x34eda9]=null;continue;}DT_Armies[_0x34eda9]=Object[_0xee1768(0x156)]({},DT_Units[naming]),DT_Armies[_0x34eda9][_0xee1768(0x17b)]=![],DT_Armies[_0x34eda9]['Cursed']=![],DT_Armies[_0x34eda9][_0xee1768(0x191)]=_0x34eda9,!(_0xee1768(0x1cf)in DT_Armies[_0x34eda9])&&(DT_Armies[_0x34eda9]['Nature']=_0xee1768(0x1b8)),DT_ArmiesInitialState[_0x34eda9]=Object['assign']({},DT_Armies[_0x34eda9]),DT_Armies[_0x34eda9][_0xee1768(0x19f)]=DT_ArmiesInitialState[_0x34eda9];}}function DT_SetUpRelics(_0x35ec86,_0x392c2f){const _0x17e505=_0xc584a7;if(_0x35ec86===_0x17e505(0x17c))for(let _0x41d680=0x0;_0x41d680<ARMY_SIZE;_0x41d680++){typeof _0x392c2f[_0x41d680]===_0x17e505(0x138)?DT_RelicsInUse[_0x41d680]=Object['assign']({},DT_Relics[_0x392c2f[_0x41d680]]):DT_RelicsInUse[_0x41d680]=0x0;}else{if(_0x35ec86==='enemy')for(let _0x231f5c=ARMY_SIZE;_0x231f5c<ARMY_SIZE*0x2;_0x231f5c++){typeof _0x392c2f[_0x231f5c-ARMY_SIZE]===_0x17e505(0x138)?DT_RelicsInUse[_0x231f5c]=Object[_0x17e505(0x156)]({},DT_Relics[_0x392c2f[_0x231f5c-ARMY_SIZE]]):DT_RelicsInUse[_0x231f5c]=0x0;}}for(let _0x3fd709=0x0;_0x3fd709<DT_CSSCards[_0x17e505(0x118)];++_0x3fd709){}}function DT_CreateElements(){const _0x5c0879=_0xc584a7;function _0x5e5241(_0x3e6a66){const _0x3b693c=_0x5685;img=document['createElement']('img'),img[_0x3b693c(0x117)][_0x3b693c(0x1cc)](_0x3b693c(0x1b1)),stats=document[_0x3b693c(0x18c)](_0x3b693c(0x1c4)),stats[_0x3b693c(0x117)][_0x3b693c(0x1cc)]('stats'),descr=document[_0x3b693c(0x18c)](_0x3b693c(0x1c4)),descr['classList'][_0x3b693c(0x1cc)]('descr');let _0xf229ca=document[_0x3b693c(0x18c)](_0x3b693c(0x1c4)),_0x50ba00=document[_0x3b693c(0x18c)](_0x3b693c(0x1c4));_0x50ba00['classList']['add']('card-front');let _0xd93a31=document[_0x3b693c(0x18c)](_0x3b693c(0x1c4));return _0xd93a31[_0x3b693c(0x117)][_0x3b693c(0x1cc)](_0x3b693c(0x1bd)),_0x50ba00[_0x3b693c(0x155)](img),_0x50ba00[_0x3b693c(0x155)](stats),_0xd93a31[_0x3b693c(0x155)](descr),_0xf229ca['appendChild'](_0x50ba00),_0xf229ca[_0x3b693c(0x155)](_0xd93a31),_0xf229ca[_0x3b693c(0x17d)]('id','slot-'+_0x3e6a66),_0xf229ca['classList'][_0x3b693c(0x1cc)](_0x3b693c(0x169)),{'card':_0xf229ca,'img':img,'stats':stats,'descr':descr};}grid=document[_0x5c0879(0x18c)](_0x5c0879(0x1c4)),grid[_0x5c0879(0x117)][_0x5c0879(0x1cc)](_0x5c0879(0x1a3)),orderedArmy=[...DT_EnemyRear,...DT_EnemyForward,...DT_PlayerForward,...DT_PlayerRear];for(let _0x2b5f61=0x0;_0x2b5f61<ARMY_SIZE*0x2;_0x2b5f61++){cw=_0x5e5241(orderedArmy[_0x2b5f61]),grid[_0x5c0879(0x155)](cw['card']),DT_CSSCards[orderedArmy[_0x2b5f61]]=cw,DT_RefreshElement(orderedArmy[_0x2b5f61]);}DT_Grid=grid,DT_Parent[_0x5c0879(0x155)](grid);}function DT_AddListeners(){const _0x871d6e=_0xc584a7;DT_Parent[_0x871d6e(0x15e)](_0x871d6e(0x16d),DT_CallbackSpace),DT_CSSCards[_0x871d6e(0x127)](_0x384183=>{const _0x266178=_0x871d6e;_0x384183[_0x266178(0x169)][_0x266178(0x15e)](_0x266178(0x1c3),DT_Callback),_0x384183['card'][_0x266178(0x15e)]('Action',DT_CallbackAction),_0x384183[_0x266178(0x169)][_0x266178(0x15e)](_0x266178(0x183),DT_CallbackFlipCard);});}function DT_DeleteListeners(){const _0x1bdf30=_0xc584a7;DT_Parent!==null&&DT_Parent[_0x1bdf30(0x139)](_0x1bdf30(0x16d),DT_CallbackSpace),DT_CSSCards[_0x1bdf30(0x127)](_0x2eef91=>{const _0x126c64=_0x1bdf30;_0x2eef91['card'][_0x126c64(0x139)](_0x126c64(0x1c3),DT_Callback),_0x2eef91['card'][_0x126c64(0x139)](_0x126c64(0x134),DT_CallbackAction),_0x2eef91[_0x126c64(0x169)][_0x126c64(0x139)](_0x126c64(0x183),DT_CallbackFlipCard);});}function DT_RefreshElement(_0x4fc65d){const _0x38d586=_0xc584a7;cardwr=DT_CSSCards[_0x4fc65d],u=DT_Armies[_0x4fc65d];let _0x448ade=null;if(typeof cardwr==='object')_0x448ade=cardwr[_0x38d586(0x169)]['classList'];else return;if(DT_IsThereUnit(u))_0x448ade['add']('aliveunit'),_0x448ade['remove'](_0x38d586(0x16c));else{_0x448ade[_0x38d586(0x186)](_0x38d586(0x184)),_0x448ade[_0x38d586(0x1cc)](_0x38d586(0x16c)),cardwr[_0x38d586(0x1ad)]['style'][_0x38d586(0x11b)]=DT_ImgWidthPx,cardwr[_0x38d586(0x1ad)][_0x38d586(0x149)][_0x38d586(0x19a)]=DT_ImgHeightPx;return;}let _0x50dec7=u[_0x38d586(0x1cf)]===_0x38d586(0x1c8)?_0x38d586(0x15c):u[_0x38d586(0x1cf)]===_0x38d586(0x166)?'crimson':u[_0x38d586(0x1cf)]==='People'?_0x38d586(0x122):_0x38d586(0x14b);cardwr[_0x38d586(0x116)][_0x38d586(0x16b)]=_0x38d586(0x19d)+_0x50dec7+_0x38d586(0x164)+u['Name']+_0x38d586(0x15b);_0x38d586(0x13d)in u&&(cardwr[_0x38d586(0x116)]['innerHTML']+=_0x38d586(0x10c),cardwr[_0x38d586(0x116)][_0x38d586(0x16b)]+='üôè\x20'+u['ProtectLife']+'%');_0x38d586(0x1b7)in u&&(cardwr[_0x38d586(0x116)]['innerHTML']+='<br>',cardwr[_0x38d586(0x116)][_0x38d586(0x16b)]+=_0x38d586(0x167)+u[_0x38d586(0x1b7)]+'%');_0x38d586(0x196)in u&&(cardwr['descr'][_0x38d586(0x16b)]+='<br>',cardwr[_0x38d586(0x116)]['innerHTML']+=_0x38d586(0x185)+u['ProtectElemental']+'%');cardwr['descr'][_0x38d586(0x16b)]+=_0x38d586(0x10c),cardwr[_0x38d586(0x116)]['innerHTML']+=_0x38d586(0x162)+u['Initiative']+_0x38d586(0x1c5);_0x38d586(0x135)in u&&(emoji=u['Bonus']in DT_BonusEmojis?DT_BonusEmojis[u[_0x38d586(0x135)]]:'‚ùì',cardwr[_0x38d586(0x116)]['innerHTML']+=_0x38d586(0x19e)+emoji+_0x38d586(0x1c5));let _0x5361fe=DT_Resources[_0x38d586(0x14f)][u[_0x38d586(0x141)]][_0x38d586(0x13a)],_0x291051=Math['round']((u[_0x38d586(0x19f)][_0x38d586(0x130)]-u[_0x38d586(0x130)])*0x64/u['InitialState'][_0x38d586(0x130)]);const _0x2740d9=_0x291051<0x1e?_0x38d586(0x15d):_0x291051<0x32?'#FFD700':_0x291051<0x4b?'orange':'red';let _0x16e7b5=![],_0x3dd5e7='black',_0x16d9ce='0';if(_0x38d586(0x1ca)in u)_0x3dd5e7=u['AttackBlow']>u['InitialState']['AttackBlow']?_0x38d586(0x10d):'black',_0x16d9ce=u[_0x38d586(0x1ca)];else{if(_0x38d586(0x1a7)in u)_0x3dd5e7=u[_0x38d586(0x1a7)]>u[_0x38d586(0x19f)]['AttackShot']?'blue':'black',_0x16d9ce=u[_0x38d586(0x1a7)];else'MagicPower'in u&&(_0x16e7b5=!![]);}let _0x2f1a91='black',_0xbea688='0';_0x38d586(0x157)in u&&(initialDef=_0x38d586(0x157)in u[_0x38d586(0x19f)]?u[_0x38d586(0x19f)][_0x38d586(0x157)]:0x0,_0x2f1a91=u[_0x38d586(0x157)]>initialDef?_0x38d586(0x10d):'black',_0xbea688=u[_0x38d586(0x157)]);let _0x2fa363='black',_0x29f7f3='0';_0x38d586(0x175)in u&&(initialDef='DefenceShot'in u[_0x38d586(0x19f)]?u[_0x38d586(0x19f)][_0x38d586(0x175)]:0x0,_0x2fa363=u['DefenceShot']>initialDef?_0x38d586(0x10d):'black',_0x29f7f3=u[_0x38d586(0x175)]);if(_0x16e7b5)cardwr['stats'][_0x38d586(0x16b)]=(u[_0x38d586(0x1aa)]==='DeathMagic'?'üíÄ':u[_0x38d586(0x1aa)]==='LifeMagic'?'üôè':'ü™Ñ')+'\x20'+u[_0x38d586(0x13e)];else{if('AttackBlow'in u)cardwr[_0x38d586(0x14a)][_0x38d586(0x16b)]=_0x38d586(0x190)+('<span\x20style=\x22color:'+_0x3dd5e7+_0x38d586(0x164)+_0x16d9ce+_0x38d586(0x1c5));else _0x38d586(0x1a7)in u?cardwr[_0x38d586(0x14a)][_0x38d586(0x16b)]=_0x38d586(0x1be)+(_0x38d586(0x16a)+_0x3dd5e7+_0x38d586(0x164)+_0x16d9ce+'</span>'):cardwr['stats']['innerHTML']=_0x38d586(0x1a5);}for(const _0x49ea6e in DT_ActiveStates){DT_ActiveStates[_0x49ea6e][_0x38d586(0x10e)]['includes'](u)&&(cardwr[_0x38d586(0x14a)][_0x38d586(0x16b)]+=_0x38d586(0x18b)+DT_ActiveStates[_0x49ea6e]['emoji']+_0x38d586(0x1c5));}cardwr[_0x38d586(0x14a)][_0x38d586(0x16b)]+=_0x38d586(0x114),cardwr[_0x38d586(0x14a)][_0x38d586(0x16b)]+='<span\x20style=\x22float:right;color:'+_0x2740d9+';\x22>'+u[_0x38d586(0x130)]+'/'+u[_0x38d586(0x19f)][_0x38d586(0x130)]+_0x38d586(0x1c5),cardwr['stats'][_0x38d586(0x16b)]+=_0x38d586(0x10c),cardwr[_0x38d586(0x14a)][_0x38d586(0x16b)]+=_0x38d586(0x14c)+('<span\x20style=\x22color:'+_0x2f1a91+';\x22>'+_0xbea688+'</span>')+'/'+(_0x38d586(0x16a)+_0x2fa363+_0x38d586(0x164)+_0x29f7f3+'</span>'),cardwr[_0x38d586(0x14a)]['innerHTML']+='&nbsp;',cardwr[_0x38d586(0x14a)][_0x38d586(0x16b)]+=_0x38d586(0x137)+u[_0x38d586(0x1d1)]+_0x38d586(0x1c5),cardwr[_0x38d586(0x1ad)][_0x38d586(0x149)][_0x38d586(0x11b)]=DT_ImgWidthPx,cardwr['img']['style'][_0x38d586(0x19a)]=DT_ImgHeightPx,cardwr['img']['style'][_0x38d586(0x120)](_0x38d586(0x1a8),_0x38d586(0x1c2));let _0xf5796a='',_0x146034='';u[_0x38d586(0x128)]===!![]&&(_0xf5796a='url('+DT_Resources['cursed'][_0x38d586(0x13a)]+_0x38d586(0x181),_0x146034=_0x38d586(0x148)),cardwr['img'][_0x38d586(0x149)][_0x38d586(0x120)](_0x38d586(0x199),_0x146034+'cover'),cardwr[_0x38d586(0x1ad)][_0x38d586(0x149)][_0x38d586(0x120)](_0x38d586(0x1cd),_0xf5796a+(_0x38d586(0x1d2)+_0x291051+_0x38d586(0x11d)+_0x5361fe+')'));}function DT_UploadResources(){DT_UploadImages(),DT_UploadSounds();}function DT_UploadImages(){const _0x2affb8=_0xc584a7;for(const _0x37541a in DT_Units){let _0x164e7a=new Image();_0x164e7a[_0x2affb8(0x13a)]=BASE_PATH+_0x2affb8(0x1b5)+(DT_Units[_0x37541a][_0x2affb8(0x141)]-0x1)+'.png',DT_Resources[_0x2affb8(0x14f)][DT_Units[_0x37541a]['GlobalIndex']]=_0x164e7a;}let _0x334ad8=new Image();_0x334ad8[_0x2affb8(0x13a)]=BASE_PATH+'projectile.png',DT_Resources['projectile']=_0x334ad8;let _0x52fb56=new Image();_0x52fb56[_0x2affb8(0x13a)]=BASE_PATH+'skull.gif',DT_Resources['cursed']=_0x52fb56;}function DT_UploadSounds(){const _0x1e37cf=_0xc584a7;function _0x57a605(_0x584569,_0x26943f,_0x5e9fe9=_0x1e37cf(0x121)){const _0xcb9704=_0x1e37cf;if(!(_0x26943f in DT_Resources['sfx'][_0x5e9fe9])){let _0x3f4312=new Audio(BASE_PATH+_0x584569);DT_Resources[_0xcb9704(0x18a)][_0x5e9fe9][_0x26943f]=_0x3f4312;}}_0x57a605(_0x1e37cf(0x1d5),_0x1e37cf(0x1bf),_0x1e37cf(0x140)),_0x57a605('sfx/whoosh.wav',_0x1e37cf(0x1bf),_0x1e37cf(0x1ab)),_0x57a605(_0x1e37cf(0x178),_0x1e37cf(0x1b0),_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x13f),_0x1e37cf(0x1b0),_0x1e37cf(0x1ab)),_0x57a605(_0x1e37cf(0x12e),_0x1e37cf(0x145),_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x1a0),_0x1e37cf(0x11a),_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x154),_0x1e37cf(0x1a6),_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x144),'Shot',_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x1c0),_0x1e37cf(0x1ba),'Pre'),_0x57a605(_0x1e37cf(0x15f),'Heal','Post'),_0x57a605(_0x1e37cf(0x10f),_0x1e37cf(0x112),_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x11e),_0x1e37cf(0x151),'Post'),_0x57a605(_0x1e37cf(0x1a2),'Move',_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x1a0),_0x1e37cf(0x193),_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x12b),_0x1e37cf(0x1d3),_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x13c),'God\x20Anger','Post'),_0x57a605(_0x1e37cf(0x13c),_0x1e37cf(0x16e),_0x1e37cf(0x140)),_0x57a605(_0x1e37cf(0x174),_0x1e37cf(0x1a4)),_0x57a605(_0x1e37cf(0x172),'Lose'),_0x57a605('sfx/button.wav',_0x1e37cf(0x150)),_0x57a605('sfx/pick.wav',_0x1e37cf(0x1a9)),_0x57a605(_0x1e37cf(0x1b9),'Slide');}function DT_ClearArmies(_0x5a16c7='both'){const _0x3cdb44=_0xc584a7;if(_0x5a16c7!==_0x3cdb44(0x176)){let _0x239668=_0x5a16c7===_0x3cdb44(0x17c)?[...DT_PlayerForward,...DT_PlayerRear]:[...DT_EnemyForward,...DT_EnemyRear];for(const _0x41e05d of _0x239668){DT_RemoveUnit(DT_Armies[_0x41e05d]);}}else DT_Armies=[],DT_ArmiesInitialState=[],DT_RelicsInUse=[];}function DT_ClearElements(){const _0x52e324=_0xc584a7;DT_DeleteListeners();for(const _0x486e1d of DT_CSSCards){_0x486e1d['card'][_0x52e324(0x186)]();}DT_CSSCards=[];if(DT_Grid!==null)DT_Grid[_0x52e324(0x186)]();DT_Grid=null;}function DT_StartTheBattle(){const _0x12a59e=_0xc584a7;if(DT_Parent===null){console['log'](_0x12a59e(0x12c));return;}else DT_Units===null&&console[_0x12a59e(0x192)](_0x12a59e(0x11c));DT_PlayerWon=![],DT_EnemyWon=![],DT_BattleIsOverCalled=![],TurnCounter=0x0,DT_ClearElements(),DT_CreateElements(),DT_AddListeners(),DT_CSSCards[0x0][_0x12a59e(0x169)][_0x12a59e(0x1b6)](new CustomEvent(_0x12a59e(0x134),{'detail':{'type':_0x12a59e(0x1ce),'target':0x0}}));}